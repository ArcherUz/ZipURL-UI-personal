{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UrlHistory(){const[urlHistory,setUrlHistory]=useState([]);const[error,setError]=useState(\"\");const navigate=useNavigate();useEffect(()=>{const fetchUrlHistory=async()=>{const jwtToken=localStorage.getItem(\"jwtToken\");if(!jwtToken){navigate(\"/\");return;}try{const response=await axios.get(\"http://99.79.70.20:8080/api/urls\",{headers:{Authorization:\"Bearer \".concat(jwtToken)}});setUrlHistory(response.data);}catch(err){setError(err.response?err.response.data.message:\"An error occurred while fetching URL history.\");}};fetchUrlHistory();},[navigate]);if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My URL History\"}),urlHistory.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:urlHistory.map((url,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",url.Title||\"N/A\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Short URL:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:url.shortURL,target:\"_blank\",rel:\"noopener noreferrer\",children:url.shortURL})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Long URL:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:url.longURL,target:\"_blank\",rel:\"noopener noreferrer\",children:url.longURL})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:url.Avatar,alt:\"URL Avatar\",style:{height:\"30px\",width:\"30px\"}})})]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No URL history found.\"})]});}export default UrlHistory;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","UrlHistory","urlHistory","setUrlHistory","error","setError","navigate","fetchUrlHistory","jwtToken","localStorage","getItem","response","get","headers","Authorization","concat","data","err","message","className","children","length","map","url","index","Title","href","shortURL","target","rel","longURL","src","Avatar","alt","style","height","width"],"sources":["C:/vscode/UI/login-app/src/components/UrlHistory.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction UrlHistory() {\r\n  const [urlHistory, setUrlHistory] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUrlHistory = async () => {\r\n      const jwtToken = localStorage.getItem(\"jwtToken\");\r\n      if (!jwtToken) {\r\n        navigate(\"/\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(\"http://99.79.70.20:8080/api/urls\", {\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n        });\r\n        setUrlHistory(response.data);\r\n      } catch (err) {\r\n        setError(\r\n          err.response\r\n            ? err.response.data.message\r\n            : \"An error occurred while fetching URL history.\"\r\n        );\r\n      }\r\n    };\r\n\r\n    fetchUrlHistory();\r\n  }, [navigate]);\r\n\r\n  if (error) {\r\n    return <div className=\"alert alert-danger\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>My URL History</h2>\r\n      {urlHistory.length > 0 ? (\r\n        <ul className=\"list-group\">\r\n          {urlHistory.map((url, index) => (\r\n            <li key={index} className=\"list-group-item\">\r\n              <div>\r\n                <strong>Title:</strong> {url.Title || \"N/A\"}\r\n              </div>\r\n              <div>\r\n                <strong>Short URL:</strong>{\" \"}\r\n                <a\r\n                  href={url.shortURL}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  {url.shortURL}\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <strong>Long URL:</strong>{\" \"}\r\n                <a href={url.longURL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  {url.longURL}\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <img\r\n                  src={url.Avatar}\r\n                  alt=\"URL Avatar\"\r\n                  style={{ height: \"30px\", width: \"30px\" }}\r\n                />\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No URL history found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UrlHistory;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}