{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UrlEncoder(){const[longUrl,setLongUrl]=useState(\"\");const[algorithm,setAlgorithm]=useState(\"base64\");const[encodedUrl,setEncodedUrl]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();useEffect(()=>{const jwtToken=localStorage.getItem(\"jwtToken\");if(!jwtToken){navigate(\"/\");}},[navigate]);const encodeUrl=async event=>{event.preventDefault();const jwtToken=localStorage.getItem(\"jwtToken\");if(!jwtToken){navigate(\"/\");return;}try{const response=await axios.post(\"http://99.79.70.20:8080/api/urls/\".concat(algorithm),{longUrl},{headers:{Authorization:\"Bearer \".concat(jwtToken)}});setEncodedUrl(response.data);}catch(err){setError(err.response?err.response.data.message:\"An error occurred. Please try again later.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Encode URL\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:encodeUrl,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"longUrl\",children:\"Long URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"longUrl\",value:longUrl,onChange:e=>setLongUrl(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Encoding Algorithm\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:algorithm,onChange:e=>setAlgorithm(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"md5\",children:\"MD5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"base64\",children:\"Base64\"}),/*#__PURE__*/_jsx(\"option\",{value:\"base62\",children:\"Base62\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Encode\"})]}),encodedUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success mt-3\",children:[\"Encoded URL:\",\" \",/*#__PURE__*/_jsx(\"a\",{href:encodedUrl.shortURL,target:\"_blank\",rel:\"noopener noreferrer\",children:encodedUrl.shortURL}),\"Title:\",encodedUrl.Title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:encodedUrl.Avatar,alt:\"Avatar\",style:{width:50,height:50}})]})]});}export default UrlEncoder;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","UrlEncoder","longUrl","setLongUrl","algorithm","setAlgorithm","encodedUrl","setEncodedUrl","error","setError","navigate","jwtToken","localStorage","getItem","encodeUrl","event","preventDefault","response","post","concat","headers","Authorization","data","err","message","className","children","onSubmit","htmlFor","type","id","value","onChange","e","target","required","href","shortURL","rel","Title","src","Avatar","alt","style","width","height"],"sources":["C:/vscode/UI/login-app/src/components/UrlEncode.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction UrlEncoder() {\r\n  const [longUrl, setLongUrl] = useState(\"\");\r\n  const [algorithm, setAlgorithm] = useState(\"base64\");\r\n  const [encodedUrl, setEncodedUrl] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const jwtToken = localStorage.getItem(\"jwtToken\");\r\n    if (!jwtToken) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const encodeUrl = async (event) => {\r\n    event.preventDefault();\r\n    const jwtToken = localStorage.getItem(\"jwtToken\");\r\n    if (!jwtToken) {\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `http://99.79.70.20:8080/api/urls/${algorithm}`,\r\n        { longUrl },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n        }\r\n      );\r\n      setEncodedUrl(response.data);\r\n    } catch (err) {\r\n      setError(\r\n        err.response\r\n          ? err.response.data.message\r\n          : \"An error occurred. Please try again later.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Encode URL</h2>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      <form onSubmit={encodeUrl}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"longUrl\">Long URL</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"longUrl\"\r\n            value={longUrl}\r\n            onChange={(e) => setLongUrl(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label>Select Encoding Algorithm</label>\r\n          <select\r\n            className=\"form-control\"\r\n            value={algorithm}\r\n            onChange={(e) => setAlgorithm(e.target.value)}\r\n          >\r\n            <option value=\"md5\">MD5</option>\r\n            <option value=\"base64\">Base64</option>\r\n            <option value=\"base62\">Base62</option>\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Encode\r\n        </button>\r\n      </form>\r\n      {encodedUrl && (\r\n        <div className=\"alert alert-success mt-3\">\r\n          Encoded URL:{\" \"}\r\n          <a\r\n            href={encodedUrl.shortURL}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {encodedUrl.shortURL}\r\n          </a>\r\n          Title:{encodedUrl.Title}\r\n          <br />\r\n          <img\r\n            src={encodedUrl.Avatar}\r\n            alt=\"Avatar\"\r\n            style={{ width: 50, height: 50 }}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UrlEncoder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}